<!DOCTYPE html>
<html lang="en"><head>
<script src="mtrev_files/libs/clipboard/clipboard.min.js"></script>
<script src="mtrev_files/libs/quarto-html/tabby.min.js"></script>
<script src="mtrev_files/libs/quarto-html/popper.min.js"></script>
<script src="mtrev_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="mtrev_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="mtrev_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="mtrev_files/libs/quarto-html/quarto-syntax-highlighting-e26003cea8cd680ca0c55a263523d882.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<link href="mtrev_files/libs/quarto-contrib/fontawesome6-1.2.0/all.min.css" rel="stylesheet">
<link href="mtrev_files/libs/quarto-contrib/fontawesome6-1.2.0/latex-fontsize.css" rel="stylesheet"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.6.39">

  <meta name="author" content="Ethan P. Marzban">
  <title>Midterm Review</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="mtrev_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="mtrev_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="mtrev_files/libs/revealjs/dist/theme/quarto-23665cddef3566fd5ae8f4d9eb93eac1.css">
  <link href="mtrev_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="mtrev_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="mtrev_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="mtrev_files/libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="mtrev_files/libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="mtrev_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <script type="module" src="mtrev_files/libs/quarto-ojs/quarto-ojs-runtime.js"></script>
  <link href="mtrev_files/libs/quarto-ojs/quarto-ojs.css" rel="stylesheet">
</head>
<body class="quarto-light">
<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {enableAssistiveMml: false}});</script>
  <div class="reveal">
    <div class="slides">

<section id="title-slide" data-background-image="Images/logo.png" data-background-opacity="0.5" data-background-position="80% 50%" data-background-size="35%" class="quarto-title-block center">
  <h1 class="title">Midterm Review</h1>
  <p class="subtitle">PSTAT 120B, Spring 2025, with Dr.&nbsp;Brian Wainwright</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Ethan P. Marzban 
</div>
        <p class="quarto-title-affiliation">
            Department of Statistics and Applied Probability; UCSB <br> <br>
          </p>
        <p class="quarto-title-affiliation">
            May 6, 2025
          </p>
    </div>
</div>

</section>
<section class="slide level2">

<div class="hidden">
<p><span class="math display">\[
\newcommand\R{\mathbb{R}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\E}{\mathbb{E}}
\newcommand{\Prob}{\mathbb{P}}
\newcommand{\F}{\mathcal{F}}
\newcommand{\1}{1\!\!1}
\newcommand{\comp}[1]{#1^{\complement}}
\newcommand{\Var}{\mathrm{Var}}
\newcommand{\SD}{\mathrm{SD}}
\newcommand{\vect}[1]{\vec{\boldsymbol{#1}}}
\newcommand{\Cov}{\mathrm{Cov}}
\newcommand{\Corr}{\mathrm{Corr}}
\usepackage[makeroom]{cancel}
\newcommand{\iid}{\stackrel{\mathrm{i.i.d.}}{\sim}}
\newcommand{\probto}{\stackrel{\mathrm{p}}{\longrightarrow}}
\newcommand{\distto}{\stackrel{\mathrm{d}}{\longrightarrow}}
\]</span></p>
</div>
<div class="cell">
<style type="text/css">
.hscroll {
  height: 100%;
  max-height: 600px;
  max-width: 2000px;
  overflow: scroll;
}

.hscroll2 {
  height: 100%;
  max-height: 300px;
  overflow: scroll;
}

.hscroll3 {
  max-width: 2rem;
  overflow: scroll;
}
</style>
</div>
</section>
<section id="roadmap-for-today" class="slide level2">
<h2><i class="fa-solid fa-map" aria-label="map"></i> Roadmap for Today</h2>
<ul>
<li class="fragment"><p>Go through some slides (including some interactive problems)</p></li>
<li class="fragment"><p>Work through some problems together (on the worksheet; copies can be found at the front of the room)</p></li>
</ul>
<div class="fragment">
<div class="callout callout-important callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong><strong>Disclaimer</strong></strong></p>
</div>
<div class="callout-content">
<p>I have not seen the exam yet, so I do not know exactly what will or will not be on it. Just because something does or does not show up on these slides doesn’t mean it is guaranteed to show up / not show up on the exam.</p>
</div>
</div>
</div>
</div>
<div class="fragment">
<div class="callout callout-important callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong><strong>Disclaimer</strong></strong></p>
</div>
<div class="callout-content">
<p>This review is not intended to be comprehensive; I encourage you to consult the lecture notes, textbook, homework, and your own notes.</p>
</div>
</div>
</div>
</div>
</section>
<section>
<section id="transformations" class="title-slide slide level1 center" data-background-color="black" data-background-image="https://media1.giphy.com/media/v1.Y2lkPTc5MGI3NjExaGI2ajVrb2RhY2Vyamh3a2l5Nmkwd3N3YTVwdXBla2RodTR6NzU1bSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/CWx3Qijmkf4746TtGu/giphy.gif" data-background-size="100rem">
<h1>Transformations</h1>

</section>
<section id="univariate-transformations" class="slide level2">
<h2><i class="fa-solid fa-arrow-up-right-from-square" aria-label="arrow-up-right-from-square"></i> Univariate Transformations</h2>
<h3 id="general-framework">General Framework</h3>
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Goal: <strong>Univariate Transformations</strong></strong></p>
</div>
<div class="callout-content">
<p>Given a random variable <em>X</em> ~ <em>f</em><sub><em>X</em></sub>(<em>x</em>), we seek the distribution of <em>U</em> := g(<em>X</em>) for some real-valued function <em>g</em>.</p>
</div>
</div>
</div>
<ul>
<li class="fragment">Three things uniquely characterize a distribution:
<ul>
<li class="fragment">Its CDF</li>
<li class="fragment">Its PDF</li>
<li class="fragment">Its MGF</li>
</ul></li>
</ul>
</section>
<section id="univariate-transformations-1" class="slide level2">
<h2><i class="fa-solid fa-arrow-up-right-from-square" aria-label="arrow-up-right-from-square"></i> Univariate Transformations</h2>
<h3 id="cdf-method">CDF Method</h3>
<ul>
<li class="fragment"><p>First idea: find the CDF <em>F</em><sub><em>U</em></sub>(<em>u</em>).</p></li>
<li class="fragment"><p>Often a three-step procedure:</p>
<ol type="1">
<li class="fragment">Write <span class="math inline">\(F_U(u) := \Prob(U \leq u) = \Prob(g(X) \leq u)\)</span></li>
<li class="fragment">Manipulate the event <span class="math inline">\(\{g(X) \leq u\}\)</span> to be of the form <span class="math inline">\(\{X \in B_U\}\)</span> for some set <em>B</em><sub><em>u</em></sub></li>
<li class="fragment">Use the PDF of <em>X</em> (which is assumed to be known!) to evaluate <span class="math inline">\(\Prob(B_u)\)</span>, to find the CDF <em>F</em><sub><em>U</em></sub>(<em>u</em>) of <em>U</em>.</li>
</ol></li>
</ul>
</section>
<section id="univariate-transformations-2" class="slide level2">
<h2><i class="fa-solid fa-arrow-up-right-from-square" aria-label="arrow-up-right-from-square"></i> Univariate Transformations</h2>
<h3 id="cdf-method-1">CDF Method</h3>
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong><strong>Example 1</strong></strong></p>
</div>
<div class="callout-content">
<p>Let <em>X</em> ~ Exp(β) for some β &gt; 0, and define <em>Y</em> := <em>c</em> <em>X</em> for some <em>c</em> &gt; 0. Use the CDF method to identify the distribution of <em>Y</em> <strong>by name</strong>, including any/all relevant parameter(s).</p>
</div>
</div>
</div>
</section>
<section id="univariate-transformations-3" class="slide level2">
<h2><i class="fa-solid fa-arrow-up-right-from-square" aria-label="arrow-up-right-from-square"></i> Univariate Transformations</h2>
<h3 id="method-of-transformations">Method of Transformations</h3>
<ul>
<li class="fragment">If <em>g</em> is strictly monotonic over the support of <em>X</em>, then <span class="math display">\[ f_U(u) = f_X[g^{-1}(u)] \cdot \left| \frac{\mathrm{d}}{\mathrm{d}u} g^{-1}(u) \right| \]</span></li>
</ul>
<div class="fragment">
<div class="callout callout-caution callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong><strong>Caution</strong></strong></p>
</div>
<div class="callout-content">
<p>This method can only be used if the following assumptions hold:</p>
<ol type="1">
<li class="fragment"><p>The underlying transformation is <span class="alert"><strong>univariate</strong></span> (i.e.&nbsp;a function of only <em>one</em> random variable)</p></li>
<li class="fragment"><p>The underlying transforamtion is <span class="alert"><strong>strictly monotonic</strong></span></p></li>
</ol>
</div>
</div>
</div>
</div>
</section>
<section id="univariate-transformations-4" class="slide level2">
<h2><i class="fa-solid fa-arrow-up-right-from-square" aria-label="arrow-up-right-from-square"></i> Univariate Transformations</h2>
<h3 id="method-of-transformations-1">Method of Transformations</h3>
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong><strong>Example 1 (revisited)</strong></strong></p>
</div>
<div class="callout-content">
<p>Let <em>X</em> ~ Exp(β) for some β &gt; 0, and define <em>Y</em> := <em>c</em> <em>X</em> for some <em>c</em> &gt; 0. Use the Method of Transformations to identify the distribution of <em>Y</em> <strong>by name</strong>, including any/all relevant parameter(s).</p>
</div>
</div>
</div>
</section>
<section id="univariate-transformations-5" class="slide level2">
<h2><i class="fa-solid fa-arrow-up-right-from-square" aria-label="arrow-up-right-from-square"></i> Univariate Transformations</h2>
<h3 id="method-of-mgfs">Method of MGFs</h3>
<ul>
<li class="fragment">A useful fact is that MGFs uniquely determine distributions.
<ul>
<li class="fragment">For example, if I tell you <em>X</em> has MGF <span class="math inline">\(M_X(t) = e^{t^2}\)</span>, then you can automatically conclude that <span class="math inline">\(X \sim \mathcal{N}(0, 2)\)</span>.</li>
</ul></li>
<li class="fragment">Two useful facts about MGFs:
<ul>
<li class="fragment"><span class="math inline">\(M_{aX + b}(t) =\)</span></li>
<li class="fragment">For independent <em>X</em> and <em>Y</em>, <span class="math inline">\(M_{X + Y}(t) =\)</span></li>
</ul></li>
<li class="fragment">In light of these, we see that the MGF method is particularly useful when our transformation involves a linear combination of independent random variables.</li>
</ul>
</section>
<section id="univariate-transformations-6" class="slide level2">
<h2><i class="fa-solid fa-arrow-up-right-from-square" aria-label="arrow-up-right-from-square"></i> Univariate Transformations</h2>
<h3 id="method-of-mgfs-1">Method of MGFs</h3>
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong><strong>Example 1 (revisited)</strong></strong></p>
</div>
<div class="callout-content">
<p>Let <em>X</em> ~ Exp(β) for some β &gt; 0, and define <em>Y</em> := <em>c</em> <em>X</em> for some <em>c</em> &gt; 0. Use the MGF Method to identify the distribution of <em>Y</em> <strong>by name</strong>, including any/all relevant parameter(s).</p>
</div>
</div>
</div>
</section>
<section id="multivariate-transformations" class="slide level2">
<h2><i class="fa-solid fa-arrow-up-right-from-square" aria-label="arrow-up-right-from-square"></i> Multivariate Transformations</h2>
<h3 id="outline">Outline</h3>
<ul>
<li class="fragment"><p>When it comes to <span class="alert"><strong>multivariate transformations</strong></span> (i.e.&nbsp;transformations of <em>multiple</em> random variables), there often is not a one-size-fits-all approach.</p></li>
<li class="fragment"><p>A safe bet is usually the CDF method, though the corresponding integrals may be intractable.</p></li>
<li class="fragment"><p>If the transformation is a linear combination of independent random variables, then the MGF method might be a good bet.</p></li>
<li class="fragment"><p>We also saw some examples about minima and maxima; take a look through the lecture slides for those.</p></li>
</ul>
</section>
<section id="multivariate-transformations-1" class="slide level2">
<h2><i class="fa-solid fa-arrow-up-right-from-square" aria-label="arrow-up-right-from-square"></i> Multivariate Transformations</h2>
<h3 id="example">Example</h3>
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong><strong>Example 2</strong></strong></p>
</div>
<div class="callout-content">
<p>Let <span class="math inline">\(X, Y \iid \mathrm{Exp}(\beta)\)</span> for some <span class="math inline">\(\beta &gt; 0\)</span>. Using whichever method you feel is most appropriate, identify the distribution of:</p>
<div>
<ol type="a">
<li><span class="math inline">\(S := (X + Y)\)</span></li>
<li><span class="math inline">\(Z := \min\{X, Y\}\)</span></li>
</ol>
</div>
</div>
</div>
</div>
</section></section>
<section>
<section id="inferential-statistics" class="title-slide slide level1 center" data-background-color="black" data-background-image="https://media0.giphy.com/media/v1.Y2lkPTc5MGI3NjExcndtbGw5NG94OTRhbHBiN3V4bmRhcTJ4a2h5eTBoMjByc3FxZmQ0biZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/9ADoZQgs0tyww/giphy.gif" data-background-size="70rem">
<h1>Inferential Statistics</h1>

</section>
<section id="sampling" class="slide level2">
<h2><i class="fa-solid fa-vial" aria-label="vial"></i> Sampling</h2>
<h3 id="general-framework-1">General Framework</h3>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="Images/Inference.svg"></p>
</div><div class="column" style="width:50%;">
<ul>
<li class="fragment"><p><strong>Goal:</strong> to make inferences about a population parameter.</p></li>
<li class="fragment"><p>To do so, we take random <span class="alert"><strong>samples</strong></span> from the population.</p></li>
<li class="fragment"><p>A <span class="alert"><strong>statistic</strong></span> is a function of a random sample: <span class="math inline">\(T := T(X_1, \cdots, X_n)\)</span></p>
<ul>
<li class="fragment">Statistics, therefore, are random variables; their distributions are called <span class="alert"><strong>sampling distributions</strong></span></li>
</ul></li>
</ul>
</div></div>
</section>
<section id="sampling-1" class="slide level2">
<h2><i class="fa-solid fa-vial" aria-label="vial"></i> Sampling</h2>
<h3 id="example-cats">Example: Cats!</h3>

<img data-src="Images/Sampling0.svg" class="r-stretch"></section>
<section id="sampling-2" class="slide level2">
<h2><i class="fa-solid fa-vial" aria-label="vial"></i> Sampling</h2>
<h3 id="example-cats-1">Example: Cats!</h3>

<img data-src="Images/Sampling1.svg" class="r-stretch"></section>
<section id="sampling-3" class="slide level2">
<h2><i class="fa-solid fa-vial" aria-label="vial"></i> Sampling</h2>
<h3 id="example-cats-2">Example: Cats!</h3>

<img data-src="Images/Sampling2.svg" class="r-stretch"></section>
<section id="sampling-4" class="slide level2">
<h2><i class="fa-solid fa-vial" aria-label="vial"></i> Sampling</h2>
<h3 id="example-cats-3">Example: Cats!</h3>

<img data-src="Images/Sampling3.svg" class="r-stretch"></section>
<section id="sampling-5" class="slide level2">
<h2><i class="fa-solid fa-vial" aria-label="vial"></i> Sampling</h2>
<h3 id="notation">Notation</h3>
<ul>
<li class="fragment"><p>With this example, we can highlight an important distinction.</p></li>
<li class="fragment"><p>Let <em>Y</em><sub><em>i</em></sub> denote the weight of a randomly-selected cat. Random or deterministic?</p>
<ul>
<li class="fragment">Random.</li>
</ul></li>
<li class="fragment"><p>Let <em>y</em><sub><em>i</em></sub> denote the weight of a specific cat (e.g.&nbsp;Kitty). Random or deterministic?</p>
<ul>
<li class="fragment">Deterministic.</li>
</ul></li>
<li class="fragment"><p>Denote <span class="math inline">\(\vect{Y} := \{Y_i\}_{i=1}^{n}\)</span> to be our <span class="alert"><strong>random sample</strong></span>; let <span class="math inline">\(\vect{y} := \{y_i\}_{i=1}^{n}\)</span> be a <span class="alert"><strong>realization</strong></span> (aka an <span class="alert"><strong>observed instance</strong></span>) of our sample <span class="math inline">\(\vect{Y}\)</span>.</p></li>
</ul>
</section>
<section id="sampling-6" class="slide level2">
<h2><i class="fa-solid fa-vial" aria-label="vial"></i> Sampling</h2>
<h3 id="normal-population">Normal Population</h3>
<ul>
<li class="fragment">Two common statistics that arise frequently are the <span class="alert"><strong>sample mean</strong></span> and <span class="alert"><strong>sample variance</strong></span>, defined as <span class="math display">\[ \overline{X}_n := \frac{1}{n} \sum_{i=1}^{n} X_i; \qquad S_n^2 := \frac{1}{n - 1} \sum_{i=1}^{n} (X_i - \overline{X}_n)^2 \]</span></li>
</ul>
<div class="fragment">
<div class="callout callout-important callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong><strong>Theorem</strong></strong></p>
</div>
<div class="callout-content">
<p>Let <span class="math inline">\(X_1, \cdots, X_n \iid \mathcal{N}(\mu, \sigma^2)\)</span>. Then:</p>
<div>
<ol type="1">
<li><span class="math inline">\(\overline{X}_n \sim \mathcal{N}\left( \mu, \ \frac{\sigma^2}{n} \right)\)</span></li>
<li><span class="math inline">\(\left( \frac{n - 1}{\sigma^2} \right) S_n^2 \sim \chi^2_{n - 1}\)</span></li>
</ol>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="review-the-gamma-distribution" class="slide level2">
<h2><i class="fa-solid fa-backward-fast" aria-label="backward-fast"></i> Review: The Gamma Distribution</h2>
<p><br>
</p>
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb1" data-startfrom="319" data-source-offset="-0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 318;"><span id="cb1-319"><a href=""></a>viewof alph <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">range</span>(</span>
<span id="cb1-320"><a href=""></a>  [<span class="fl">0.2</span><span class="op">,</span> <span class="dv">10</span>]<span class="op">,</span> </span>
<span id="cb1-321"><a href=""></a>  {<span class="dt">value</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span> <span class="dt">step</span><span class="op">:</span> <span class="fl">0.1</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"α:"</span>}</span>
<span id="cb1-322"><a href=""></a>)</span>
<span id="cb1-323"><a href=""></a></span>
<span id="cb1-324"><a href=""></a>viewof bet <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">range</span>(</span>
<span id="cb1-325"><a href=""></a>  [<span class="fl">0.2</span><span class="op">,</span> <span class="fl">3.1</span>]<span class="op">,</span> </span>
<span id="cb1-326"><a href=""></a>  {<span class="dt">value</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span> <span class="dt">step</span><span class="op">:</span> <span class="fl">0.01</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"β:"</span>}</span>
<span id="cb1-327"><a href=""></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-2" data-nodetype="declaration">

</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb2" data-startfrom="331" data-source-offset="-0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 330;"><span id="cb2-331"><a href=""></a>jstat <span class="op">=</span> <span class="pp">require</span>(<span class="st">"jstat"</span>)</span>
<span id="cb2-332"><a href=""></a></span>
<span id="cb2-333"><a href=""></a>plt_pdf <span class="op">=</span> Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb2-334"><a href=""></a>    <span class="dt">width</span><span class="op">:</span> <span class="dv">700</span><span class="op">,</span></span>
<span id="cb2-335"><a href=""></a>    <span class="dt">height</span><span class="op">:</span> <span class="dv">300</span><span class="op">,</span></span>
<span id="cb2-336"><a href=""></a>    <span class="dt">color</span><span class="op">:</span> {</span>
<span id="cb2-337"><a href=""></a>      <span class="dt">legend</span><span class="op">:</span> <span class="kw">true</span></span>
<span id="cb2-338"><a href=""></a>    }<span class="op">,</span></span>
<span id="cb2-339"><a href=""></a>    <span class="dt">x</span><span class="op">:</span> {</span>
<span id="cb2-340"><a href=""></a>      <span class="dt">label</span><span class="op">:</span> <span class="st">"x"</span><span class="op">,</span></span>
<span id="cb2-341"><a href=""></a>      <span class="dt">axis</span><span class="op">:</span> <span class="kw">true</span></span>
<span id="cb2-342"><a href=""></a>    }<span class="op">,</span></span>
<span id="cb2-343"><a href=""></a>    <span class="dt">y</span><span class="op">:</span> {</span>
<span id="cb2-344"><a href=""></a>      <span class="dt">label</span><span class="op">:</span> <span class="st">"f(x)"</span><span class="op">,</span></span>
<span id="cb2-345"><a href=""></a>      <span class="co">//axis: false,</span></span>
<span id="cb2-346"><a href=""></a>      <span class="co">//domain: [0, d3.max(pdfvals.map(d =&gt; d.pdf))]  </span></span>
<span id="cb2-347"><a href=""></a>    }<span class="op">,</span></span>
<span id="cb2-348"><a href=""></a>    <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb2-349"><a href=""></a>      Plot<span class="op">.</span><span class="fu">ruleY</span>([<span class="dv">0</span>])<span class="op">,</span></span>
<span id="cb2-350"><a href=""></a>      Plot<span class="op">.</span><span class="fu">ruleX</span>([<span class="dv">0</span>])<span class="op">,</span></span>
<span id="cb2-351"><a href=""></a>      Plot<span class="op">.</span><span class="fu">line</span>(pdfvals<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"x"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"pdf"</span><span class="op">,</span> <span class="dt">stroke</span> <span class="op">:</span> <span class="st">"blue"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">4</span>})</span>
<span id="cb2-352"><a href=""></a>    ]</span>
<span id="cb2-353"><a href=""></a>  })</span>
<span id="cb2-354"><a href=""></a>  </span>
<span id="cb2-355"><a href=""></a>pdfvals <span class="op">=</span> {</span>
<span id="cb2-356"><a href=""></a>  <span class="kw">const</span> x <span class="op">=</span> d3<span class="op">.</span><span class="fu">range</span>(<span class="dv">0</span><span class="op">,</span> <span class="dv">12</span><span class="op">,</span> <span class="fl">0.01</span>)<span class="op">;</span></span>
<span id="cb2-357"><a href=""></a>  <span class="kw">var</span> pdf<span class="op">;</span></span>
<span id="cb2-358"><a href=""></a>  pdf <span class="op">=</span> x<span class="op">.</span><span class="fu">map</span>(x <span class="kw">=&gt;</span> ({<span class="dt">x</span><span class="op">:</span> x<span class="op">,</span> <span class="dt">pdf</span><span class="op">:</span> jstat<span class="op">.</span><span class="at">gamma</span><span class="op">.</span><span class="fu">pdf</span>(x<span class="op">,</span> alph<span class="op">,</span> bet)}))<span class="op">;</span></span>
<span id="cb2-359"><a href=""></a>  <span class="cf">return</span> pdf</span>
<span id="cb2-360"><a href=""></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-2-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-2-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-2-3" data-nodetype="declaration">

</div>
</div>
</div>
</div>
</section>
<section id="review-the-chi2_nu-distribution" class="slide level2">
<h2><i class="fa-solid fa-backward-fast" aria-label="backward-fast"></i> Review: The <span class="math inline">\(\chi^2_{\nu}\)</span> distribution</h2>
<p><br>
</p>
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb3" data-startfrom="367" data-source-offset="0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 366;"><span id="cb3-367"><a href=""></a>viewof nu <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">range</span>(</span>
<span id="cb3-368"><a href=""></a>  [<span class="fl">0.2</span><span class="op">,</span> <span class="dv">10</span>]<span class="op">,</span> </span>
<span id="cb3-369"><a href=""></a>  {<span class="dt">value</span><span class="op">:</span> <span class="dv">3</span><span class="op">,</span> <span class="dt">step</span><span class="op">:</span> <span class="fl">0.1</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"ν:"</span>}</span>
<span id="cb3-370"><a href=""></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb4" data-startfrom="376" data-source-offset="-0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 375;"><span id="cb4-376"><a href=""></a>plt_pdf2 <span class="op">=</span> Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb4-377"><a href=""></a>    <span class="dt">width</span><span class="op">:</span> <span class="dv">700</span><span class="op">,</span></span>
<span id="cb4-378"><a href=""></a>    <span class="dt">height</span><span class="op">:</span> <span class="dv">300</span><span class="op">,</span></span>
<span id="cb4-379"><a href=""></a>    <span class="dt">color</span><span class="op">:</span> {</span>
<span id="cb4-380"><a href=""></a>      <span class="dt">legend</span><span class="op">:</span> <span class="kw">true</span></span>
<span id="cb4-381"><a href=""></a>    }<span class="op">,</span></span>
<span id="cb4-382"><a href=""></a>    <span class="dt">x</span><span class="op">:</span> {</span>
<span id="cb4-383"><a href=""></a>      <span class="dt">label</span><span class="op">:</span> <span class="st">"x"</span><span class="op">,</span></span>
<span id="cb4-384"><a href=""></a>      <span class="dt">axis</span><span class="op">:</span> <span class="kw">true</span></span>
<span id="cb4-385"><a href=""></a>    }<span class="op">,</span></span>
<span id="cb4-386"><a href=""></a>    <span class="dt">y</span><span class="op">:</span> {</span>
<span id="cb4-387"><a href=""></a>      <span class="dt">label</span><span class="op">:</span> <span class="st">"f(x)"</span><span class="op">,</span></span>
<span id="cb4-388"><a href=""></a>      <span class="co">//axis: false,</span></span>
<span id="cb4-389"><a href=""></a>      <span class="co">//domain: [0, d3.max(pdfvals.map(d =&gt; d.pdf))]  </span></span>
<span id="cb4-390"><a href=""></a>    }<span class="op">,</span></span>
<span id="cb4-391"><a href=""></a>    <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb4-392"><a href=""></a>      Plot<span class="op">.</span><span class="fu">ruleY</span>([<span class="dv">0</span>])<span class="op">,</span></span>
<span id="cb4-393"><a href=""></a>      Plot<span class="op">.</span><span class="fu">ruleX</span>([<span class="dv">0</span>])<span class="op">,</span></span>
<span id="cb4-394"><a href=""></a>      Plot<span class="op">.</span><span class="fu">line</span>(pdfvals2<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"x"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"pdf"</span><span class="op">,</span> <span class="dt">stroke</span> <span class="op">:</span> <span class="st">"blue"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">4</span>})</span>
<span id="cb4-395"><a href=""></a>    ]</span>
<span id="cb4-396"><a href=""></a>  })</span>
<span id="cb4-397"><a href=""></a>  </span>
<span id="cb4-398"><a href=""></a>pdfvals2 <span class="op">=</span> {</span>
<span id="cb4-399"><a href=""></a>  <span class="kw">const</span> x <span class="op">=</span> d3<span class="op">.</span><span class="fu">range</span>(<span class="dv">0</span><span class="op">,</span> <span class="dv">12</span><span class="op">,</span> <span class="fl">0.01</span>)<span class="op">;</span></span>
<span id="cb4-400"><a href=""></a>  <span class="kw">var</span> pdf<span class="op">;</span></span>
<span id="cb4-401"><a href=""></a>  pdf <span class="op">=</span> x<span class="op">.</span><span class="fu">map</span>(x <span class="kw">=&gt;</span> ({<span class="dt">x</span><span class="op">:</span> x<span class="op">,</span> <span class="dt">pdf</span><span class="op">:</span> jstat<span class="op">.</span><span class="at">gamma</span><span class="op">.</span><span class="fu">pdf</span>(x<span class="op">,</span> nu<span class="op">/</span><span class="dv">2</span><span class="op">,</span> <span class="dv">2</span>)}))<span class="op">;</span></span>
<span id="cb4-402"><a href=""></a>  <span class="cf">return</span> pdf</span>
<span id="cb4-403"><a href=""></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-4-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-4-2" data-nodetype="declaration">

</div>
</div>
</div>
</div>
</section>
<section id="sampling-7" class="slide level2">
<h2><i class="fa-solid fa-vial" aria-label="vial"></i> Sampling</h2>
<h3 id="convergence-in-distribution">Convergence in Distribution</h3>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong><strong>Definition:</strong> Convergence in Distribution</strong></p>
</div>
<div class="callout-content">
<p>A sequence <span class="math inline">\(\{X_n\}_{n \geq 1}\)</span> of random variables is said to <span class="alert"><strong>converge in distribution</strong></span> to another random variable <span class="math inline">\(X\)</span> if, for every point <span class="math inline">\(x\)</span> at which the CDF of <span class="math inline">\(X\)</span> is continuous, <span class="math display">\[ \lim_{n \to \infty} \Prob(X_n \leq x) = \Prob(X \leq x) \]</span> in which case we write <span class="math display">\[ X_n \distto X \]</span></p>
</div>
</div>
</div>
</section>
<section id="sampling-8" class="slide level2">
<h2><i class="fa-solid fa-vial" aria-label="vial"></i> Sampling</h2>
<h3 id="central-limit-theorem">Central Limit Theorem</h3>
<div class="callout callout-important callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong><strong>Central Limit Theorem</strong></strong></p>
</div>
<div class="callout-content">
<p>Let <span class="math inline">\(X_1, \cdots, X_n\)</span> denote an i.i.d. sample from a distribution with mean <span class="math inline">\(\mu\)</span> and finite variance <span class="math inline">\(\sigma^2 &lt; \infty\)</span>. Then <span class="math display">\[ \frac{\sqrt{n}(\overline{X}_n - \mu)}{\sigma} \distto \mathcal{N}(0, 1) \]</span> which we can sometimes write as, for sufficiently large <em>n</em>, <span class="math display">\[ \overline{X}_n \stackrel{\cdot}{\sim} \mathcal{N}\left( \mu , \ \frac{\sigma^2}{n} \right) \sim \mathcal{N}\left( \E[Y_i], \ \frac{\Var(Y_i)}{n} \right) \]</span></p>
</div>
</div>
</div>
</section>
<section id="estimation" class="slide level2">
<h2><i class="fa-solid fa-sign-hanging" aria-label="sign-hanging"></i> Estimation</h2>
<h3 id="general-framework-2">General Framework</h3>
<ul>
<li class="fragment"><p>The goal of <span class="alert"><strong>estimation</strong></span> is, as the name suggests, to use samples (specifically, sample <em>statistics</em>) to <em>estimate</em> the value of a population parameter.</p></li>
<li class="fragment"><p>Three key terms:</p>
<ul>
<li class="fragment"><span class="alert"><strong>Estimand:</strong></span> another word for the parameter we are trying to estimate.</li>
<li class="fragment"><span class="alert"><strong>Estimator:</strong></span> a statistic being used to estimate the estimand.
<ul>
<li class="fragment">Another way to think about this: a “rule” used to estimate the parameter.</li>
</ul></li>
<li class="fragment"><span class="alert"><strong>Estimate:</strong></span> a particular <em>realization</em> (i.e.&nbsp;<em>observed instance</em>) of an estimator.</li>
</ul></li>
</ul>
</section>
<section id="estimation-1" class="slide level2">
<h2><i class="fa-solid fa-sign-hanging" aria-label="sign-hanging"></i> Estimation</h2>
<h3 id="example-3">Example</h3>
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong><strong>Example</strong></strong></p>
</div>
<div class="callout-content">
<p>A vet wishes to estimate the true weight of all cats in the world. She takes a sample of 10 cats, and finds their average weight to be 9.12 lbs.</p>
</div>
</div>
</div>
<ul>
<li class="fragment"><p>The <strong>estimand</strong> is the true average weight of all cats in the world (which we can call µ).</p></li>
<li class="fragment"><p>The <strong>estimator</strong> is the sample mean: we are using sample means to estimate µ.</p></li>
<li class="fragment"><p>The <strong>estimate</strong> in this scenario is 9.12 lbs, as this is a particular realization of our estimator.</p></li>
</ul>
</section>
<section id="estimation-2" class="slide level2">
<h2><i class="fa-solid fa-sign-hanging" aria-label="sign-hanging"></i> Estimation</h2>
<h3 id="goodness-of-fit">Goodness-of-Fit</h3>
<ul>
<li class="fragment">Given that there are potentially <em>many</em> estimators we could use to estimate a particular estimand, it’s useful to develop a metric of how well a particular estimator is performing (or, equivalently, on how to <em>compare</em> the performance of two estimators).</li>
</ul>
<div class="fragment">
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong><strong>Definition</strong>: Bias</strong></p>
</div>
<div class="callout-content">
<p>The <span class="alert"><strong>bias</strong></span> of an estimator <span class="math inline">\(\widehat{\theta}_n\)</span> being used to estimate a parameter <span class="math inline">\(\theta\)</span> is defined to be <span class="math display">\[ \mathrm{Bias}(\widehat{\theta}_n) := \E[\widehat{\theta}_n] - \theta \]</span> The estimator is said to be <span class="alert"><strong>unbiased</strong></span> if its bias is zero; i.e.&nbsp;if <span class="math inline">\(\E[\widehat{\theta}_n] = \theta\)</span>.</p>
</div>
</div>
</div>
</div>
<ul>
<li class="fragment">An unbiased estimator, “on average, gets it right”.</li>
</ul>
</section>
<section id="estimation-3" class="slide level2">
<h2><i class="fa-solid fa-sign-hanging" aria-label="sign-hanging"></i> Estimation</h2>
<h3 id="an-analogy">An Analogy</h3>
<ul>
<li class="fragment"><p>Unbiasedness, however, is often not enough. To motivate why, let’s take a look at an analogy.</p></li>
<li class="fragment"><p>An analogy is often drawn between estimation and hitting a bullseye.</p>
<ul>
<li class="fragment">The bullseye is akin to our estimand, and estimates are represented by shots fired at the target.</li>
<li class="fragment">The estimator is, therefore, akin to the marskperson.</li>
</ul></li>
<li class="fragment"><p>An unbiased estimator is analogous to a marksperson for whom the average location of shots is the bullseye.</p></li>
</ul>
</section>
<section id="estimation-4" class="slide level2">
<h2><i class="fa-solid fa-sign-hanging" aria-label="sign-hanging"></i> Estimation</h2>
<h3 id="two-markspersons">Two Markspersons</h3>
<ul>
<li class="fragment">Which of the following markspersons are “better”?</li>
</ul>
<div class="columns">
<div class="column" style="width:50%;">
<div class="fragment" style="text-align:center">
<p><img data-src="Images/mark1.svg" style="width:50.0%"></p>
<p><strong>Marksperson 1</strong></p>
</div>
</div><div class="column" style="width:50%;">
<div class="fragment" style="text-align:center">
<p><img data-src="Images/mark2.svg" style="width:50.0%"></p>
<p><strong>Marksperson 2</strong></p>
</div>
</div></div>
</section>
<section id="estimation-5" class="slide level2">
<h2><i class="fa-solid fa-sign-hanging" aria-label="sign-hanging"></i> Estimation</h2>
<h3 id="mean-squared-error-mse">Mean Squared-Error (MSE)</h3>
<ul>
<li class="fragment"><p>So, unbiasedness is not enough; we’d also like small <em>variance</em>.</p></li>
<li class="fragment"><p>To that end, we introduce the <span class="alert"><strong>mean squared-error</strong></span> (MSE) of an estimator: <span class="math display">\[ \mathrm{MSE}(\widehat{\theta}_n) := \E\left[(\widehat{\theta}_n - \theta)^2 \right] \]</span></p></li>
</ul>
<div class="fragment">
<div class="callout callout-important callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong><strong>Bias-Variance Decomposition</strong></strong></p>
</div>
<div class="callout-content">
<p><span class="math display">\[ \mathrm{MSE}(\widehat{\theta}_n) := \mathrm{Bias}^2(\widehat{\theta}_n) + \Var(\widehat{\theta}_n) \]</span></p>
</div>
</div>
</div>
</div>
<ul>
<li class="fragment"><strong>Question:</strong> should a “good” estimator have very <em>high</em> or very <em>low</em> MSE?</li>
</ul>
</section>
<section id="estimation-6" class="slide level2">
<h2><i class="fa-solid fa-sign-hanging" aria-label="sign-hanging"></i> Estimation</h2>
<h3 id="consistency">Consistency</h3>
<ul>
<li class="fragment">Another useful property is that of <span class="alert"><strong>consistency</strong></span>.</li>
</ul>
<div class="fragment">
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong><strong>Definition:</strong> Consistency</strong></p>
</div>
<div class="callout-content">
<p>An estimator <span class="math inline">\(\widehat{\theta}_n\)</span> for a parameter <span class="math inline">\(\theta\)</span> is said to be <span class="alert"><strong>consistent</strong></span>, notated <span class="math display">\[ \widehat{\theta}_n \probto \theta \]</span> if, for every <span class="math inline">\(\varepsilon &gt; 0\)</span>, <span class="math display">\[ \lim_{n \to \infty} \Prob\left( |\widehat{\theta}_n - \theta| \leq \varepsilon \right) = 1 \]</span> or, equivalently, <span class="math display">\[ \lim_{n \to \infty} \Prob\left( |\widehat{\theta}_n - \theta| &gt; \varepsilon \right) = 0 \]</span></p>
</div>
</div>
</div>
</div>
</section>
<section id="estimation-7" class="slide level2">
<h2><i class="fa-solid fa-sign-hanging" aria-label="sign-hanging"></i> Estimation</h2>
<h3 id="consistency-1">Consistency</h3>
<ul>
<li class="fragment"><p><span class="math inline">\(|\widehat{\theta}_n - \theta|\)</span> essentially measures the distance between <span class="math inline">\(\widehat{\theta}_n\)</span> and <span class="math inline">\(\theta\)</span>.</p></li>
<li class="fragment"><p>The event <span class="math inline">\(\{|\widehat{\theta}_n - \theta| \leq \varepsilon\}\)</span> is, therefore, the event that “the distance between <span class="math inline">\(\widehat{\theta}_n\)</span> and <span class="math inline">\(\theta\)</span> is small”</p>
<ul>
<li class="fragment">Equivalently: the event that “<span class="math inline">\(\widehat{\theta}_n\)</span> is very close to <span class="math inline">\(\theta\)</span>”</li>
</ul></li>
<li class="fragment"><p>The definition of consistency asserts that this probability goes to one as the sample size increases.</p>
<ul>
<li class="fragment">That is, as the sample size increases, we become more and more certain that <span class="math inline">\(\widehat{\theta}_n\)</span> will be very close to <span class="math inline">\(\theta\)</span>.</li>
</ul></li>
</ul>
</section>
<section id="estimation-8" class="slide level2">
<h2><i class="fa-solid fa-sign-hanging" aria-label="sign-hanging"></i> Estimation</h2>
<h3 id="consistency-2">Consistency</h3>
<div class="callout callout-important callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong><strong>Theorem</strong></strong></p>
</div>
<div class="callout-content">
<p>Suppose <span class="math inline">\(\widehat{\theta}_n\)</span> is an unbiased estimator for <span class="math inline">\(\theta\)</span>. If <span class="math inline">\(\Var(\widehat{\theta}_n) \to 0\)</span> as <span class="math inline">\(n \to \infty\)</span>, then <span class="math inline">\(\widehat{\theta}_n\)</span> is a consistent estimator for <span class="math inline">\(\theta\)</span>.</p>
</div>
</div>
</div>
<div class="fragment">
<div class="callout callout-caution callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong><strong>Caution</strong></strong></p>
</div>
<div class="callout-content">
<p>We can only apply this theorem if our estimator is unbiased!!!</p>
</div>
</div>
</div>
</div>
<div class="fragment">
<div class="callout callout-important callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong><strong>Corollary:</strong> Weak Law of Large Numbers (WLLN)</strong></p>
</div>
<div class="callout-content">
<p>If <span class="math inline">\(Y_1, \cdots, Y_n\)</span> are i.i.d. from a distribution with mean <span class="math inline">\(\mu\)</span> and finite variance <span class="math inline">\(\sigma^2 &lt; \infty\)</span>, then <span class="math display">\[ \left( \frac{1}{n} \sum_{i=1}^{n} Y_i \right) \probto \E[Y_i] =: \mu \]</span></p>
</div>
</div>
</div>
</div>
</section>
<section id="estimation-9" class="slide level2">
<h2><i class="fa-solid fa-sign-hanging" aria-label="sign-hanging"></i> Estimation</h2>
<h3 id="consistency-3">Consistency</h3>
<ul>
<li class="fragment"><p>Take a look at the Week 5 lecture slides (specifically, Theorem 9.2) for more properties on consistency.</p></li>
<li class="fragment"><p>There is one additional theorem I’d like to highlight (sometimes called the <span class="alert"><strong>Continuous Mapping Theorem</strong></span>, or CMT):</p></li>
</ul>
<div class="fragment">
<div class="callout callout-important callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong><strong>Continuous Mapping Theorem (CMT)</strong>:</strong></p>
</div>
<div class="callout-content">
<p>If <span class="math inline">\(\widehat{\theta}_n\)</span> is a consistent estimator for <span class="math inline">\(\theta\)</span>, then <span class="math inline">\(g(\widehat{\theta}_n)\)</span> is a consistent estimator for <span class="math inline">\(\theta\)</span> provided that the function <span class="math inline">\(g\)</span> is continuous.</p>
</div>
</div>
</div>
</div>
<div class="fragment">
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong><strong>Example 3</strong></strong></p>
</div>
<div class="callout-content">
<p>If <span class="math inline">\(X_1, \cdots, X_n\)</span> denotes an i.i.d. sample from a population with mean <span class="math inline">\(\mu\)</span> and finite variance <span class="math inline">\(\sigma^2\)</span>, propose a consistent estimator for <span class="math inline">\(\mu^2\)</span> and show that your estimator is consistent.</p>
</div>
</div>
</div>
</div>
</section>
<section id="estimation-10" class="slide level2">
<h2><i class="fa-solid fa-sign-hanging" aria-label="sign-hanging"></i> Estimation</h2>
<h3 id="consistency-vs.-unbiasedness">Consistency vs.&nbsp;Unbiasedness</h3>
<ul>
<li class="fragment"><p>A natural question is: how are consistency and unbiasedness related?</p></li>
<li class="fragment"><p><strong>Question:</strong> are all consistent estimators unbiased?</p></li>
<li class="fragment"><p><strong>Question:</strong> are all unbiased estimators consistent?</p></li>
</ul>

</section></section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<p><img src="Images/logo.png" class="slide-logo"></p>
<div class="footer footer-default">
<p>PSTAT 120B Sp25; Discussion Section 5, © Ethan P. Marzban</p>
</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="mtrev_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="mtrev_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="mtrev_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="mtrev_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="mtrev_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="mtrev_files/libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="mtrev_files/libs/revealjs/plugin/multiplex/socket.io.js"></script>
  <script src="mtrev_files/libs/revealjs/plugin/multiplex/multiplex.js"></script>
  <script src="mtrev_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="mtrev_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="mtrev_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="mtrev_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="mtrev_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"8\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'multiplex': {"secret":"17465798428981935157","id":"99a40f478b811213","url":"https://reveal-multiplex.glitch.me/"},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'fade',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script type="ojs-module-contents">
    eyJjb250ZW50cyI6W3sibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6InZpZXdvZiBhbHBoID0gSW5wdXRzLnJhbmdlKFxuICBbMC4yLCAxMF0sIFxuICB7dmFsdWU6IDIsIHN0ZXA6IDAuMSwgbGFiZWw6IFwizrE6XCJ9XG4pXG5cbnZpZXdvZiBiZXQgPSBJbnB1dHMucmFuZ2UoXG4gIFswLjIsIDMuMV0sIFxuICB7dmFsdWU6IDEsIHN0ZXA6IDAuMDEsIGxhYmVsOiBcIs6yOlwifVxuKVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0yIiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoianN0YXQgPSByZXF1aXJlKFwianN0YXRcIilcblxucGx0X3BkZiA9IFBsb3QucGxvdCh7XG4gICAgd2lkdGg6IDcwMCxcbiAgICBoZWlnaHQ6IDMwMCxcbiAgICBjb2xvcjoge1xuICAgICAgbGVnZW5kOiB0cnVlXG4gICAgfSxcbiAgICB4OiB7XG4gICAgICBsYWJlbDogXCJ4XCIsXG4gICAgICBheGlzOiB0cnVlXG4gICAgfSxcbiAgICB5OiB7XG4gICAgICBsYWJlbDogXCJmKHgpXCIsXG4gICAgICAvL2F4aXM6IGZhbHNlLFxuICAgICAgLy9kb21haW46IFswLCBkMy5tYXgocGRmdmFscy5tYXAoZCA9PiBkLnBkZikpXSAgXG4gICAgfSxcbiAgICBtYXJrczogW1xuICAgICAgUGxvdC5ydWxlWShbMF0pLFxuICAgICAgUGxvdC5ydWxlWChbMF0pLFxuICAgICAgUGxvdC5saW5lKHBkZnZhbHMsIHt4OiBcInhcIiwgeTogXCJwZGZcIiwgc3Ryb2tlIDogXCJibHVlXCIsIHN0cm9rZVdpZHRoOiA0fSlcbiAgICBdXG4gIH0pXG4gIFxucGRmdmFscyA9IHtcbiAgY29uc3QgeCA9IGQzLnJhbmdlKDAsIDEyLCAwLjAxKTtcbiAgdmFyIHBkZjtcbiAgcGRmID0geC5tYXAoeCA9PiAoe3g6IHgsIHBkZjoganN0YXQuZ2FtbWEucGRmKHgsIGFscGgsIGJldCl9KSk7XG4gIHJldHVybiBwZGZcbn1cbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMyIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6InZpZXdvZiBudSA9IElucHV0cy5yYW5nZShcbiAgWzAuMiwgMTBdLCBcbiAge3ZhbHVlOiAzLCBzdGVwOiAwLjEsIGxhYmVsOiBcIs69OlwifVxuKVxuXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTQiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJwbHRfcGRmMiA9IFBsb3QucGxvdCh7XG4gICAgd2lkdGg6IDcwMCxcbiAgICBoZWlnaHQ6IDMwMCxcbiAgICBjb2xvcjoge1xuICAgICAgbGVnZW5kOiB0cnVlXG4gICAgfSxcbiAgICB4OiB7XG4gICAgICBsYWJlbDogXCJ4XCIsXG4gICAgICBheGlzOiB0cnVlXG4gICAgfSxcbiAgICB5OiB7XG4gICAgICBsYWJlbDogXCJmKHgpXCIsXG4gICAgICAvL2F4aXM6IGZhbHNlLFxuICAgICAgLy9kb21haW46IFswLCBkMy5tYXgocGRmdmFscy5tYXAoZCA9PiBkLnBkZikpXSAgXG4gICAgfSxcbiAgICBtYXJrczogW1xuICAgICAgUGxvdC5ydWxlWShbMF0pLFxuICAgICAgUGxvdC5ydWxlWChbMF0pLFxuICAgICAgUGxvdC5saW5lKHBkZnZhbHMyLCB7eDogXCJ4XCIsIHk6IFwicGRmXCIsIHN0cm9rZSA6IFwiYmx1ZVwiLCBzdHJva2VXaWR0aDogNH0pXG4gICAgXVxuICB9KVxuICBcbnBkZnZhbHMyID0ge1xuICBjb25zdCB4ID0gZDMucmFuZ2UoMCwgMTIsIDAuMDEpO1xuICB2YXIgcGRmO1xuICBwZGYgPSB4Lm1hcCh4ID0+ICh7eDogeCwgcGRmOiBqc3RhdC5nYW1tYS5wZGYoeCwgbnUvMiwgMil9KSk7XG4gIHJldHVybiBwZGZcbn1cbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0Iiwic291cmNlIjoic2hpbnlJbnB1dCgnYWxwaCcpIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJzb3VyY2UiOiJzaGlueUlucHV0KCdiZXQnKSJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0Iiwic291cmNlIjoic2hpbnlJbnB1dCgnbnUnKSJ9XX0=
    </script>
    <script type="module">
    if (window.location.protocol === "file:") { alert("The OJS runtime does not work with file:// URLs. Please use a web server to view this document."); }
    window._ojs.paths.runtimeToDoc = "../../..";
    window._ojs.paths.runtimeToRoot = "../../..";
    window._ojs.paths.docToRoot = "";
    window._ojs.selfContained = false;
    window._ojs.runtime.interpretFromScriptTags();
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const onCopySuccess = function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      }
      const getTextToCopy = function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
        text: getTextToCopy
      });
      clipboard.on('success', onCopySuccess);
      if (window.document.getElementById('quarto-embedded-source-code-modal')) {
        const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
          text: getTextToCopy,
          container: window.document.getElementById('quarto-embedded-source-code-modal')
        });
        clipboardModal.on('success', onCopySuccess);
      }
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp('/' + window.location.host + '/');
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
          let selectedAnnoteEl;
          const selectorForAnnotation = ( cell, annotation) => {
            let cellAttr = 'data-code-cell="' + cell + '"';
            let lineAttr = 'data-code-annotation="' +  annotation + '"';
            const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
            return selector;
          }
          const selectCodeLines = (annoteEl) => {
            const doc = window.document;
            const targetCell = annoteEl.getAttribute("data-target-cell");
            const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
            const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
            const lines = annoteSpan.getAttribute("data-code-lines").split(",");
            const lineIds = lines.map((line) => {
              return targetCell + "-" + line;
            })
            let top = null;
            let height = null;
            let parent = null;
            if (lineIds.length > 0) {
                //compute the position of the single el (top and bottom and make a div)
                const el = window.document.getElementById(lineIds[0]);
                top = el.offsetTop;
                height = el.offsetHeight;
                parent = el.parentElement.parentElement;
              if (lineIds.length > 1) {
                const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
                const bottom = lastEl.offsetTop + lastEl.offsetHeight;
                height = bottom - top;
              }
              if (top !== null && height !== null && parent !== null) {
                // cook up a div (if necessary) and position it 
                let div = window.document.getElementById("code-annotation-line-highlight");
                if (div === null) {
                  div = window.document.createElement("div");
                  div.setAttribute("id", "code-annotation-line-highlight");
                  div.style.position = 'absolute';
                  parent.appendChild(div);
                }
                div.style.top = top - 2 + "px";
                div.style.height = height + 4 + "px";
                div.style.left = 0;
                let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
                if (gutterDiv === null) {
                  gutterDiv = window.document.createElement("div");
                  gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                  gutterDiv.style.position = 'absolute';
                  const codeCell = window.document.getElementById(targetCell);
                  const gutter = codeCell.querySelector('.code-annotation-gutter');
                  gutter.appendChild(gutterDiv);
                }
                gutterDiv.style.top = top - 2 + "px";
                gutterDiv.style.height = height + 4 + "px";
              }
              selectedAnnoteEl = annoteEl;
            }
          };
          const unselectCodeLines = () => {
            const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
            elementsIds.forEach((elId) => {
              const div = window.document.getElementById(elId);
              if (div) {
                div.remove();
              }
            });
            selectedAnnoteEl = undefined;
          };
            // Handle positioning of the toggle
        window.addEventListener(
          "resize",
          throttle(() => {
            elRect = undefined;
            if (selectedAnnoteEl) {
              selectCodeLines(selectedAnnoteEl);
            }
          }, 10)
        );
        function throttle(fn, ms) {
        let throttle = false;
        let timer;
          return (...args) => {
            if(!throttle) { // first call gets through
                fn.apply(this, args);
                throttle = true;
            } else { // all the others get throttled
                if(timer) clearTimeout(timer); // cancel #2
                timer = setTimeout(() => {
                  fn.apply(this, args);
                  timer = throttle = false;
                }, ms);
            }
          };
        }
          const annoteTargets = window.document.querySelectorAll('.code-annotation-anchor');
          for (let i=0; i<annoteTargets.length; i++) {
            const annoteTarget = annoteTargets[i];
            const targetCell = annoteTarget.getAttribute("data-target-cell");
            const targetAnnotation = annoteTarget.getAttribute("data-target-annotation");
            const contentFn = () => {
              const content = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
              if (content) {
                const tipContent = content.cloneNode(true);
                tipContent.classList.add("code-annotation-tip-content");
                return tipContent.outerHTML;
              }
            }
            const config = {
              allowHTML: true,
              content: contentFn,
              onShow: (instance) => {
                selectCodeLines(instance.reference);
                instance.reference.classList.add('code-annotation-active');
                window.tippy.hideAll();
              },
              onHide: (instance) => {
                unselectCodeLines();
                instance.reference.classList.remove('code-annotation-active');
              },
              maxWidth: 300,
              delay: [50, 0],
              duration: [200, 0],
              offset: [5, 10],
              arrow: true,
              appendTo: function(el) {
                return el.parentElement.parentElement.parentElement;
              },
              interactive: true,
              interactiveBorder: 10,
              theme: 'light-border',
              placement: 'right',
              popperOptions: {
                modifiers: [
                {
                  name: 'flip',
                  options: {
                    flipVariations: false, // true by default
                    allowedAutoPlacements: ['right'],
                    fallbackPlacements: ['right', 'top', 'top-start', 'top-end', 'bottom', 'bottom-start', 'bottom-end', 'left'],
                  },
                },
                {
                  name: 'preventOverflow',
                  options: {
                    mainAxis: false,
                    altAxis: false
                  }
                }
                ]        
              }      
            };
            window.tippy(annoteTarget, config); 
          }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>